(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{104:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),i=a.n(o),c=(a(104),a(39)),l=a(30),s=a(169),u=a(171),m=a(173),p=a(89),d=a(174),E=Object(s.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),h=n.a.forwardRef((function(e,t){return n.a.createElement(c.b,Object.assign({innerRef:t,to:"/"},e))})),f=n.a.forwardRef((function(e,t){return n.a.createElement(c.b,Object.assign({innerRef:t,to:"/favorites-page"},e))})),v=function(){var e=E();return n.a.createElement("div",{className:e.root},n.a.createElement(u.a,{position:"sticky",color:"default"},n.a.createElement(m.a,null,n.a.createElement(p.a,{variant:"h6",className:e.title},"Herolo Weather Task"),n.a.createElement(d.a,{color:"inherit",component:h},"HOME"),n.a.createElement(d.a,{color:"inherit",component:f},"FAVORITES"))))},y=a(35),C=a(21),_=a(49),g=a(50),T=a(52),b=a(27),F=a(85),O=a.n(F),A=a(176),D=a(187),I=a(180),w=a(177),R=a(189),S=a(184),j=a(182),x=a(183),Y=a(181),M=a(34),k=a.n(M),N=a(53),U={GET_DEFAULT_CITY:"GET_DEFAULT_CITY",GET_DEFAULT_CITY_PENDING:"GET_DEFAULT_CITY_PENDING",GET_DEFAULT_CITY_SUCCESS:"GET_DEFAULT_CITY_SUCCESS",SEARCH_CITY_BY_NAME:"SEARCH_CITY_BY_NAME",SEARCH_CITY_BY_NAME_FAILURE:"SEARCH_CITY_BY_NAME_FAILURE",SEARCH_CITY_BY_NAME_REQUEST:"SEARCH_CITY_BY_NAME_REQUEST",GET_CITY_WEATHER:"GET_CITY_WEATHER",SAVE_KEY_OF_CITY:"SAVE_KEY_OF_CITY",ADD_TO_FAVORITE:"ADD_TO_FAVORITE",REMOVE_FROM_FAVORITE:"REMOVE_FROM_FAVORITE"},G=a(42),V=a.n(G),W="n8pQM79ZR8Ivygs8fXKxeGdxJGxZYXi0";var B={getCityDefault:function(e){return V.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(W))},searchCity:function(e){return V.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(W,"&q=").concat(e))},getCurrentConditions:function(e){return V.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?apikey=").concat(W))},getFiveDayForecast:function(e){return V.a.get("http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(W))}},H=function(e){return function(){var t=Object(N.a)(k.a.mark((function t(a){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getCurrentConditions(e);case 2:r=t.sent,a((n=r,{type:U.GET_CITY_WEATHER,payload:{allDataForCity:n}}));case 4:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}()},L=a(87),P=a(190),z=a(83),K=a.n(z),J=a(84),Q=a.n(J),Z=Object(s.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},close:{padding:e.spacing(.5)}}})),X=function(e){var t=e.city,a=e.temperature,r=e.units,o=e.favorite,i=e.changeFavoriteCards,c=Z(),l=o?{color:"red"}:{color:"white"},s=n.a.useState(!1),E=Object(L.a)(s,2),h=E[0],f=E[1],v=function(e,t){"clickaway"!==t&&f(!1)};return n.a.createElement("div",{className:c.root},n.a.createElement(u.a,{position:"static"},n.a.createElement(m.a,null,n.a.createElement(p.a,{variant:"h6",className:c.title},t," ",a,"\xb0",r),n.a.createElement(K.a,{style:l}),n.a.createElement(d.a,{color:"inherit",onClick:function(){i(t),f(!0)}},o?"Remove from favorires":"Add to Favorites"),n.a.createElement(P.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:h,autoHideDuration:6e3,onClose:v,ContentProps:{"aria-describedby":"message-id"},message:n.a.createElement("span",{id:"message-id"},o?"Added to Favorites":"Removed from Favorires"),action:[n.a.createElement(d.a,{key:"undo",color:"secondary",size:"small",onClick:v},"ok"),n.a.createElement(A.a,{key:"close","aria-label":"close",color:"inherit",className:c.close,onClick:v},n.a.createElement(Q.a,null))]}))))},q=a(59),$=a.n(q),ee=a(178),te=a(179),ae=Object(s.a)({card:{minWidth:150},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function re(e){var t=e.date,a=e.maxTemp,r=e.minTemp,o=e.units,i=ae();return n.a.createElement(w.a,{item:!0,xs:12,sm:4,md:2},n.a.createElement(ee.a,{className:i.card},n.a.createElement(te.a,null,n.a.createElement(p.a,{className:i.title,color:"textSecondary",gutterBottom:!0},$()(t).format("dddd")),n.a.createElement(p.a,{variant:"h5",component:"h2"},$()(t).format("MMM Do YY")),n.a.createElement(p.a,{variant:"body2",component:"p"},a,"\xb0/",r,"\xb0 ",o))))}var ne=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).changeFavoriteCards=function(e){a.state.isFavorite?(a.props.reduxActions.removeFromFavorite({weather:a.props.allDataForCity.data[0],city:e}),a.setState((function(e){return{isFavorite:!e.isFavorite}}))):(a.props.reduxActions.addCityToFavorite({weather:a.props.allDataForCity.data[0],city:e}),a.setState((function(e){return{isFavorite:!e.isFavorite}})))},a.state={isFavorite:!1},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.search!==e.search){var t=this.props,a=t.search,r=t.favorites.some((function(e){return e.city===a.LocalizedName}));this.setState({isFavorite:r})}}},{key:"render",value:function(){var e=this.props,t=e.fiveDayWeather,a=e.allDataForCity,r=this.props.search.LocalizedName;if(!a)return null;var o=t.map((function(e,t){return n.a.createElement(re,{key:t,date:e.Date,maxTemp:e.Temperature.Maximum.Value,minTemp:e.Temperature.Minimum.Value,units:e.Temperature.Minimum.Unit})}));return n.a.createElement(w.a,{item:!0,xs:12,sm:12,md:12},n.a.createElement("div",null,n.a.createElement(X,{city:r,temperature:a.data[0].Temperature.Imperial.Value,units:a.data[0].Temperature.Imperial.Unit,favorite:this.state.isFavorite,addToFavorite:this.addToFavorite,removeFromFavorite:this.removeFromFavorite,changeFavoriteCards:this.changeFavoriteCards}),n.a.createElement(w.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},o)))}}]),t}(r.Component),oe=Object(b.b)((function(e){return{fiveDayWeather:e.fiveDayWeather,allDataForCity:e.allDataForCity,search:e.search,favorites:e.favorites}}),(function(e){return{reduxActions:{getCityCurrentConditions:function(t){e(H(t))},addCityToFavorite:function(t){e(function(e){return{type:U.ADD_TO_FAVORITE,payload:e}}(t))},removeFromFavorite:function(t){e(function(e){return{type:U.REMOVE_FROM_FAVORITE,payload:e}}(t))}}}}))(ne),ie=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(_.a)(this,Object(g.a)(t).call(this,e))).onLabelChange=function(e){a.setState({label:e.target.value})},a.onSubmit=function(e){var t=a.state.label;e.preventDefault(),t.replace(/[^A-Za-z]/gi,"").trim()?(a.props.reduxActions.searchCity(t),a.setState({label:""})):a.setState({openModal:!a.state.openModal})},a.closeModal=function(){a.setState({openModal:!a.state.openModal})},a.state={label:"",openModal:!1},a}return Object(T.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.reduxActions.getCityFiveDayAction(215854),this.props.reduxActions.getCityCurrentConditions(215854),this.props.reduxActions.searchCity("tel aviv")}},{key:"componentDidUpdate",value:function(e){if(this.props.search!==e.search){if(!this.props.search)return null;this.props.reduxActions.getCityFiveDayAction(this.props.search.Key),this.props.reduxActions.getCityCurrentConditions(this.props.search.Key)}}},{key:"render",value:function(){return this.props.search?n.a.createElement("div",null,n.a.createElement(I.a,null,n.a.createElement("h1",null,"weather page"),n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement(w.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},n.a.createElement(w.a,{item:!0},n.a.createElement(A.a,{"aria-label":"search",type:"submit"},n.a.createElement(O.a,null))),n.a.createElement(w.a,{item:!0},n.a.createElement(D.a,{id:"outlined-name",label:"chek weather in your city",margin:"normal",variant:"outlined",onChange:this.onLabelChange,value:this.state.label})))),n.a.createElement(w.a,{container:!0},n.a.createElement(R.a,{open:this.state.openModal,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.a.createElement(Y.a,{id:"alert-dialog-title"},"Enter the name of the city"),n.a.createElement(j.a,null,n.a.createElement(x.a,{id:"alert-dialog-description"},"Enter the full of the city name or part of it. Searching should be done in English letters only.")),n.a.createElement(S.a,null,n.a.createElement(d.a,{onClick:this.closeModal,color:"primary"},"Ok"))),n.a.createElement(oe,null)))):null}}]),t}(r.Component),ce=Object(b.b)((function(e){return e}),(function(e){return{reduxActions:{getCityFiveDayAction:function(t){e(function(e){return function(){var t=Object(N.a)(k.a.mark((function t(a){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getFiveDayForecast(e);case 2:r=t.sent,a((n=r.data.DailyForecasts,{type:U.GET_DEFAULT_CITY_SUCCESS,payload:{fiveDayWeather:n}}));case 4:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},searchCity:function(t){var a;e((a=t,function(){var e=Object(N.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.searchCity(a);case 3:r=e.sent,t((o=r.data,{type:U.SEARCH_CITY_BY_NAME,payload:{search:o}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t((n=e.t0,{type:U.SEARCH_CITY_BY_NAME_FAILURE,payload:{error:n}}));case 10:case"end":return e.stop()}var n,o}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))},getCityCurrentConditions:function(t){e(H(t))}}}}))(ie),le=a(185),se=a(186),ue=Object(s.a)({card:{maxWidth:180},media:{height:110}}),me=function(e){var t=e.city,a=e.temperetare,r=e.units,o=e.condition,i=e.image,c=ue(),l="images/".concat(i,"-s.png");return n.a.createElement(w.a,{item:!0,xs:6,sm:4,md:2},n.a.createElement(ee.a,{className:c.card},n.a.createElement(le.a,null,n.a.createElement(se.a,{className:c.media,image:l,title:o}),n.a.createElement(te.a,null,n.a.createElement(p.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),n.a.createElement(p.a,{variant:"body2",color:"textSecondary",component:"p"},a,"\xb0",r),n.a.createElement(p.a,{variant:"body2",component:"p"},o)))))},pe=Object(b.b)((function(e){return{favorites:e.favorites}}),null)((function(e){var t=e.favorites,a=t.length?t.map((function(e,t){return n.a.createElement(me,{key:t,city:e.city,temperetare:e.weather.Temperature.Imperial.Value,units:e.weather.Temperature.Imperial.Unit,condition:e.weather.WeatherText,image:e.weather.WeatherIcon})})):n.a.createElement("h1",null,"nothing added yet");return n.a.createElement("div",null,n.a.createElement(I.a,null,n.a.createElement("h1",null,"favorites page"),n.a.createElement(w.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},a)))}));var de=function(){return n.a.createElement("div",null,n.a.createElement(c.a,null,n.a.createElement(v,null),n.a.createElement(l.c,null,n.a.createElement(l.a,{path:"/",component:ce,exact:!0}),n.a.createElement(l.a,{path:"/favorites-page",component:pe}),n.a.createElement(l.a,{path:"**",component:function(){return n.a.createElement("h1",null," Not Found! ")}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=a(40),he=a(7),fe=a(23);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(a,!0).forEach((function(t){Object(he.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ce={favorites:[],fiveDayWeather:[],search:null,allDataForCity:null,error:null},_e=function(e,t){return[].concat(Object(fe.a)(e.slice(0,t)),Object(fe.a)(e.slice(t+1)))};var ge=a(86),Te=Object(Ee.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.GET_DEFAULT_CITY_SUCCESS:return ye({},e,{fiveDayWeather:t.payload.fiveDayWeather});case U.SEARCH_CITY_BY_NAME:return ye({},e,{search:t.payload.search[0]});case U.SEARCH_CITY_BY_NAME_FAILURE:return ye({},e,{error:t.payload.error});case U.GET_CITY_WEATHER:return ye({},e,{allDataForCity:t.payload.allDataForCity});case U.ADD_TO_FAVORITE:var a=t.payload,r=e.favorites;return ye({},e,{favorites:[].concat(Object(fe.a)(r),[a])});case U.REMOVE_FROM_FAVORITE:var n=e.favorites,o=n.findIndex((function(e){return e.city===t.payload.city}));return ye({},e,{favorites:_e(n,o)});default:return e}}),Object(Ee.a)(ge.a));i.a.render(n.a.createElement(b.a,{store:Te},n.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){e.exports=a(130)}},[[99,1,2]]]);
//# sourceMappingURL=main.a6a244b9.chunk.js.map